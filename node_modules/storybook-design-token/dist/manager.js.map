{"version":3,"sources":["../src/manager.ts","../src/Panel.tsx","../src/components/TokenTab.tsx","../src/components/TokenCards.tsx","../src/components/ClipboardButton.tsx","../src/components/TokenPreview.tsx","../src/components/presenter/AnimationPresenter.tsx","../src/components/presenter/BorderPresenter.tsx","../src/components/presenter/BorderRadiusPresenter.tsx","../src/components/presenter/ColorPresenter.tsx","../src/components/presenter/EasingPresenter.tsx","../src/components/presenter/EmptyPresenter.tsx","../src/components/presenter/FontFamilyPresenter.tsx","../src/components/presenter/FontSizePresenter.tsx","../src/components/presenter/FontWeightPresenter.tsx","../src/components/presenter/LineHeightPresenter.tsx","../src/components/presenter/LetterSpacingPresenter.tsx","../src/components/presenter/OpacityPresenter.tsx","../src/components/presenter/ShadowPresenter.tsx","../src/components/presenter/SpacingPresenter.tsx","../src/components/presenter/SvgPresenter.tsx","../src/components/presenter/ImagePresenter.tsx","../src/components/TokenValue.tsx","../src/components/Input.tsx","../src/components/ToolButton.tsx","../src/hooks/useFilteredTokens.ts","../src/components/Popup.tsx","../src/hooks/usePopup.ts","../src/components/TokenTable.tsx","../src/components/SearchField.tsx","../src/hooks/useTokenSearch.ts","../src/hooks/useDebounce.ts","../src/hooks/useTokenTabs.ts","../src/constants.ts"],"names":["addons","types","ActionBar","AddonPanel","ScrollArea","Tabs","useParameter","React","useMemo","useState","useRef","CopyIcon","InfoIcon","Button","TooltipMessage","TooltipNote","WithTooltip","styled","createPortal","useCopyToClipboard","ClipboardButton","button","value","_","setCopied","AnimationPresenter","token","Animation","theme","BorderPresenter","Box","BorderRadiusPresenter","Container","ColorPresenter","Color","keyframes","EasingPresenter","animation","EmptyPresenter","FontFamilyPresenter","FontSizePresenter","FontWeightPresenter","LineHeightPresenter","LetterSpacingPresenter","OpacityPresenter","Circle","ShadowPresenter","SpacingPresenter","SvgPresenter","ImagePresenter","Img","TokenPreview","presenters","presenter","all","PresenterMap","PresenterComponent","useEffect","CloseIcon","Input","ToolButton","children","onClick","TokenValue","onValueChange","readonly","rawValue","setRawValue","ResetButton","RawValue","showRawValue","tokenElement","event","newRawValue","useFilteredTokens","categories","filterNames","allTokens","category","themeFilteredTokens","index","self","t","transparentize","fadeIn","Popup","useLayoutEffect","useCallback","usePopup","usageMap","getElementRef","getTokenName","popup","setPopup","timeoutRef","popupRef","handleContextMenu","item","tokenName","element","rect","top","left","closePopup","handleClick","handleScroll","target","TokenCards","padded","showValueColumn","pageSize","tokenValueOverwrites","setTokenValueOverwrites","page","setPage","cardRefs","Card","TokenName","Pagination","tokens","pages","el","e","newValue","usage","useVirtualizer","TokenTable","maxHeight","panelHeight","setPanelHeight","rowRefs","parentRef","theadRef","rowVirtualizer","ScrollContainer","Table","container","resizeHandler","vpHeight","tableTop","height","resizeObserver","virtualRow","SearchIcon","CrossIcon","SearchHolder","StyledSearchIcon","ClearButton","SearchInput","SearchField","onChange","style","handleChange","handleClear","useDebounce","delay","debouncedValue","setDebouncedValue","handler","useTokenSearch","searchText","setSearchText","debouncedSearchText","TokenTab","categoriesProp","viewType","showSearch","useLocalStorage","useTokenTabs","config","tokenFiles","setTokenFiles","cssCategories","setCssCategories","lessCategories","setLessCategories","scssCategories","setScssCategories","svgIconCategories","setSvgIconCategories","imageCategories","setImageIconCategories","activeCategory","setActiveCategory","cardView","setCardView","styleInjections","setStyleInjections","tabs","name","tab","fetchTokenFiles","designTokenSource","cssTokens","lessTokens","scssTokens","svgTokens","imageTokens","current","Panel","props","key","id","ADDON_ID","PANEL_ID","PARAM_KEY","EVENTS","viewMode","active"],"mappings":"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","sourcesContent":["import { addons, types } from \"storybook/manager-api\";\nimport { Panel } from \"./Panel\";\nimport { ADDON_ID, PANEL_ID, PARAM_KEY } from \"./constants\";\nimport React from \"react\";\n\naddons.register(ADDON_ID, () => {\n  addons.add(PANEL_ID, {\n    type: types.PANEL,\n    title: \"Design Tokens\",\n    paramKey: PARAM_KEY,\n    match: ({ viewMode }) => viewMode === \"story\",\n    render: ({ active }) => {\n      if (!active) {\n        return null;\n      }\n      return React.createElement(Panel, { active });\n    },\n  });\n});\n","import { ActionBar, AddonPanel, ScrollArea, Tabs } from \"storybook/internal/components\";\nimport { useParameter } from \"storybook/manager-api\";\nimport React from \"react\";\nimport { TokenTab } from \"./components/TokenTab\";\nimport { useTokenTabs } from \"./hooks/useTokenTabs\";\nimport { Config } from \"./types/config.types\";\n\ninterface PanelProps {\n  active: boolean;\n}\n\nexport const Panel: React.FC<PanelProps> = (props) => {\n  const config = useParameter<Config>(\"designToken\");\n\n  const {\n    activeCategory,\n    cardView,\n    setActiveCategory,\n    setCardView,\n    styleInjections,\n    tabs,\n  } = useTokenTabs(config);\n\n  // React shows a warning in the console when the count of tabs is changed because identifiers of tabs are used in the dependency array of the useMemo hook. \n  // To prevent this, we fully re-render the Tabs control by providing a new key when tabs are changed.\n  // https://github.com/storybookjs/storybook/blob/176017d03224f8d0b4add227ebf29a3705f994f5/code/ui/components/src/components/tabs/tabs.tsx#L151\n  const key = (tabs ?? []).map(item => item.label).join('-');\n\n  return (\n    <AddonPanel {...props}>\n      <>\n        <style>{styleInjections}</style>\n\n        <ScrollArea vertical horizontal>\n          <Tabs\n            key={key}\n            actions={{ onSelect: (id) => setActiveCategory(id) }}\n            selected={activeCategory}\n          >\n            {tabs.map((tab) => {\n              return (\n                <div key={tab.label} id={tab.label} title={tab.label}>\n                  {activeCategory === tab.label && (\n                    <TokenTab\n                      categories={tab.categories}\n                      viewType={cardView ? \"card\" : \"table\"}\n                      showSearch={config?.showSearch}\n                      pageSize={config?.pageSize}\n                      presenters={{}}\n                    />\n                  )}\n                </div>\n              );\n            })}\n          </Tabs>\n        </ScrollArea>\n\n        <ActionBar\n          key=\"actionbar\"\n          actionItems={[\n            {\n              onClick: () => {\n                setCardView(!cardView);\n              },\n              title: cardView ? \"Table View\" : \"Card View\",\n            },\n          ]}\n        />\n      </>\n    </AddonPanel>\n  );\n};\n","import React from \"react\";\nimport { TokenCards } from \"./TokenCards\";\nimport { TokenTable } from \"./TokenTable\";\nimport { SearchField } from \"./SearchField\";\nimport { Category } from \"../types/category.types\";\nimport { useTokenSearch } from \"../hooks/useTokenSearch\";\nimport { PresenterMapType } from \"./TokenPreview\";\n\nexport type TokenViewType = \"card\" | \"table\";\n\ninterface TokenTabProps {\n  categories: Category[];\n  viewType: TokenViewType;\n  /**\n   * @default true\n   */\n  showSearch?: boolean;\n  pageSize?: number;\n  presenters?: PresenterMapType;\n  filterNames?: string[];\n}\n\nexport function TokenTab({\n  categories: categoriesProp,\n  viewType = \"table\",\n  showSearch = true,\n  pageSize,\n  presenters,\n}: TokenTabProps) {\n  const { searchText, setSearchText, categories } =\n    useTokenSearch(categoriesProp);\n\n  return (\n    <div>\n      {showSearch && (\n        <SearchField\n          value={searchText}\n          onChange={setSearchText}\n          style={{ margin: \"12px 12px 8px\" }}\n        />\n      )}\n      {viewType === \"card\" && (\n        <TokenCards\n          categories={categories}\n          pageSize={pageSize}\n          presenters={presenters}\n        />\n      )}\n      {viewType === \"table\" && (\n        <TokenTable categories={categories} presenters={presenters} />\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useMemo, useState, useRef } from \"react\";\nimport { CopyIcon, InfoIcon } from \"@storybook/icons\";\nimport {\n  Button,\n  TooltipMessage,\n  TooltipNote,\n  WithTooltip,\n} from \"storybook/internal/components\";\nimport { styled } from \"storybook/theming\";\nimport { createPortal } from \"react-dom\";\n\nimport { Category } from \"../types/category.types\";\nimport { ClipboardButton } from \"./ClipboardButton\";\nimport { PresenterMapType, TokenPreview } from \"./TokenPreview\";\nimport { TokenValue } from \"./TokenValue\";\nimport { ToolButton } from \"./ToolButton\";\nimport { useFilteredTokens } from \"../hooks/useFilteredTokens\";\nimport { Popup } from \"./Popup\";\nimport { usePopup } from \"../hooks/usePopup\";\nimport { Token } from \"../types/token.types\";\n\ninterface TokenCardsProps {\n  categories: Category[];\n  padded?: boolean;\n  readonly?: boolean;\n  showValueColumn?: boolean;\n  pageSize?: number;\n  presenters?: PresenterMapType;\n  filterNames?: string[];\n  usageMap?: Record<string, string[]>;\n  theme?: string;\n}\n\nexport const TokenCards = ({\n  categories,\n  padded = true,\n  readonly,\n  showValueColumn = true,\n  pageSize = 50,\n  presenters,\n  filterNames,\n  usageMap,\n  theme,\n}: TokenCardsProps) => {\n  const [tokenValueOverwrites, setTokenValueOverwrites] = useState<{\n    [tokenName: string]: any;\n  }>({});\n  const [page, setPage] = useState(0);\n  const cardRefs = useRef<Map<string, HTMLDivElement>>(new Map());\n\n  const { popup, popupRef, handleContextMenu } = usePopup({\n    usageMap,\n    getElementRef: (token: Token) => cardRefs.current.get(token.name) || null,\n    getTokenName: (token: Token) => token.name,\n  });\n\n  const Container = useMemo(\n    () =>\n      styled.div(() => ({\n        display: \"grid\",\n        columnGap: 12,\n        gridTemplateColumns: \"repeat(auto-fit, minmax(240px, 1fr))\",\n        padding: padded ? 15 : undefined,\n        rowGap: 12,\n      })),\n    []\n  );\n\n  const Card = useMemo(\n    () =>\n      styled.div(({ theme }) => ({\n        boxShadow:\n          \"rgb(0 0 0 / 10%) 0px 1px 3px 1px, rgb(0 0 0 / 7%) 0px 0px 0px 1px\",\n        borderRadius: 4,\n        color: theme.color.defaultText,\n        fontFamily: theme.typography.fonts.base,\n        fontSize: theme.typography.size.s1,\n        padding: 12,\n        overflow: \"hidden\",\n\n        \":hover\": {\n          backgroundColor: theme.background.hoverable,\n        },\n\n        \"> *:not(:last-child)\": {\n          marginBottom: 8,\n        },\n\n        svg: {\n          maxWidth: \"100%\",\n          maxHeight: \"100%\",\n        },\n      })),\n    []\n  );\n\n  const TokenName = styled.span(({ theme }) => ({\n    fontFamily: theme.typography.fonts.mono,\n    fontWeight: theme.typography.weight.bold,\n    fontSize: theme.typography.size.s1,\n  }));\n\n  const Pagination = useMemo(\n    () =>\n      styled.div(({ theme }) => ({\n        alignItems: \"center\",\n        color: theme.color.defaultText,\n        display: \"flex\",\n        fontFamily: theme.typography.fonts.base,\n        fontSize: theme.typography.size.s1,\n        justifyContent: \"space-between\",\n        paddingRight: padded ? 15 : undefined,\n        paddingBottom: padded ? 48 : undefined,\n        paddingLeft: padded ? 15 : undefined,\n        marginTop: 8,\n\n        \"& > div\": {\n          display: \"flex\",\n          gap: 8,\n        },\n      })),\n    []\n  );\n\n  const tokens = useFilteredTokens(categories, filterNames, theme);\n\n  const pages = useMemo(() => Math.ceil(tokens.length / pageSize), [tokens]);\n\n  return (\n    <>\n      <Container>\n        {tokens\n          .slice(page * pageSize, page * pageSize + pageSize)\n          .map((token, index) => (\n            <Card\n              key={token.name + \"-card-\" + index}\n              ref={(el: HTMLDivElement) => {\n                if (el) cardRefs.current.set(token.name, el);\n              }}\n              onContextMenu={(e: React.MouseEvent<Element, MouseEvent>) =>\n                handleContextMenu(e, token)\n              }\n            >\n              <div>\n                <TokenName>{token.name}</TokenName>\n\n                <WithTooltip\n                  hasChrome={false}\n                  tooltip={<TooltipNote note=\"Copy to clipboard\" />}\n                >\n                  <ClipboardButton\n                    button={\n                      <ToolButton>\n                        <CopyIcon />\n                      </ToolButton>\n                    }\n                    value={token.name}\n                  />\n                </WithTooltip>\n\n                {token.description && (\n                  <WithTooltip\n                    tooltip={<TooltipMessage desc={token.description} />}\n                  >\n                    <ToolButton>\n                      <InfoIcon />\n                    </ToolButton>\n                  </WithTooltip>\n                )}\n              </div>\n\n              {showValueColumn && (\n                <TokenValue\n                  onValueChange={(newValue) => {\n                    setTokenValueOverwrites((tokenValueOverwrites) => ({\n                      ...tokenValueOverwrites,\n                      [token.name]:\n                        newValue === token.rawValue ? undefined : newValue,\n                    }));\n                  }}\n                  readonly={readonly}\n                  token={token}\n                />\n              )}\n\n              <TokenPreview\n                presenters={presenters}\n                token={{\n                  ...token,\n                  value: tokenValueOverwrites[token.name] || token.value,\n                }}\n              />\n            </Card>\n          ))}\n      </Container>\n\n      {pages > 1 && (\n        <Pagination>\n          <span>\n            Page {page + 1} of {pages}\n          </span>\n          <div>\n            <Button\n              disabled={page === 0}\n              onClick={() => setPage((page) => Math.max(0, page - 1))}\n              tertiary\n              small\n            >\n              Previous page\n            </Button>\n            <Button\n              disabled={page >= pages - 1}\n              onClick={() => setPage((page) => Math.min(page + 1, pages - 1))}\n              tertiary\n              small\n            >\n              Next page\n            </Button>\n          </div>\n        </Pagination>\n      )}\n\n      {popup &&\n        usageMap &&\n        createPortal(\n          <Popup ref={popupRef} style={{ top: popup.top, left: popup.left }}>\n            {usageMap && usageMap[popup.tokenName] ? (\n              <>\n                <div>Used in:</div>\n                <ul>\n                  {usageMap[popup.tokenName].map((usage, index) => (\n                    <li key={index}>{usage}</li>\n                  ))}\n                </ul>\n              </>\n            ) : (\n              <div>Token might be unused or global, please check</div>\n            )}\n          </Popup>,\n          document.body\n        )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { ReactNode } from \"react\";\nimport { useCopyToClipboard } from \"@uidotdev/usehooks\";\n\ninterface ClipboardButtonProps {\n  button: ReactNode;\n  value: string;\n}\n\nexport const ClipboardButton = ({ button, value }: ClipboardButtonProps) => {\n  const [_, setCopied] = useCopyToClipboard();\n\n  return <span onClick={() => setCopied(value)}>{button}</span>;\n};\n","import React from \"react\";\nimport { PresenterProps, Token, TokenPresenter } from \"../types/token.types\";\nimport { AnimationPresenter } from \"./presenter/AnimationPresenter\";\nimport { BorderPresenter } from \"./presenter/BorderPresenter\";\nimport { BorderRadiusPresenter } from \"./presenter/BorderRadiusPresenter\";\nimport { ColorPresenter } from \"./presenter/ColorPresenter\";\nimport { EasingPresenter } from \"./presenter/EasingPresenter\";\nimport { EmptyPresenter } from \"./presenter/EmptyPresenter\";\nimport { FontFamilyPresenter } from \"./presenter/FontFamilyPresenter\";\nimport { FontSizePresenter } from \"./presenter/FontSizePresenter\";\nimport { FontWeightPresenter } from \"./presenter/FontWeightPresenter\";\nimport { LineHeightPresenter } from \"./presenter/LineHeightPresenter\";\nimport { LetterSpacingPresenter } from \"./presenter/LetterSpacingPresenter\";\nimport { OpacityPresenter } from \"./presenter/OpacityPresenter\";\nimport { ShadowPresenter } from \"./presenter/ShadowPresenter\";\nimport { SpacingPresenter } from \"./presenter/SpacingPresenter\";\nimport { SvgPresenter } from \"./presenter/SvgPresenter\";\nimport { ImagePresenter } from \"./presenter/ImagePresenter\";\n\ninterface TokenPreviewProps {\n  token: Token;\n  presenters?: PresenterMapType;\n}\n\nexport const TokenPreview = ({ token, presenters }: TokenPreviewProps) => {\n  const presenter = token.presenter;\n\n  const all = { ...PresenterMap, ...(presenters || {}) };\n\n  const PresenterComponent =\n    presenter != null ? all[presenter] : EmptyPresenter;\n\n  return <PresenterComponent token={token} />;\n};\n\nexport interface PresenterMapType {\n  [key: string]:\n    | React.FunctionComponent<PresenterProps>\n    | React.ComponentClass<PresenterProps>;\n}\n\nconst PresenterMap: PresenterMapType = {\n  [`${TokenPresenter.ANIMATION}`]: AnimationPresenter,\n  [`${TokenPresenter.BORDER}`]: BorderPresenter,\n  [`${TokenPresenter.BORDER_RADIUS}`]: BorderRadiusPresenter,\n  [`${TokenPresenter.COLOR}`]: ColorPresenter,\n  [`${TokenPresenter.EASING}`]: EasingPresenter,\n  [`${TokenPresenter.FONT_FAMILY}`]: FontFamilyPresenter,\n  [`${TokenPresenter.FONT_SIZE}`]: FontSizePresenter,\n  [`${TokenPresenter.FONT_WEIGHT}`]: FontWeightPresenter,\n  [`${TokenPresenter.LINE_HEIGHT}`]: LineHeightPresenter,\n  [`${TokenPresenter.LETTER_SPACING}`]: LetterSpacingPresenter,\n  [`${TokenPresenter.OPACITY}`]: OpacityPresenter,\n  [`${TokenPresenter.SHADOW}`]: ShadowPresenter,\n  [`${TokenPresenter.SPACING}`]: SpacingPresenter,\n  [`${TokenPresenter.SVG}`]: SvgPresenter,\n  [`${TokenPresenter.IMAGE}`]: ImagePresenter,\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const AnimationPresenter = ({ token }: PresenterProps) => {\n  const Animation = useMemo(\n    () =>\n      styled.div(({ theme }) => ({\n        background: theme.color.secondary,\n        borderRadius: 2,\n        height: 32,\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return (\n    <div style={{ overflow: \"hidden\" }}>\n      <Animation style={{ animation: token.value }}></Animation>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const BorderPresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(() => ({\n        border: token.value,\n        height: 32,\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return <Box></Box>;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const BorderRadiusPresenter = ({ token }: PresenterProps) => {\n  const Container = useMemo(\n    () =>\n      styled.div(() => ({\n        minHeight: 32,\n        height: 32,\n        overflow: \"auto\",\n      })),\n    []\n  );\n\n  const Box = useMemo(\n    () =>\n      styled.div(({ theme }) => ({\n        background: theme.color.secondary,\n        borderRadius: token.value,\n        minHeight: `calc(${token.value} * 2)`,\n        minWidth: `calc(${token.value} * 2)`,\n        overflow: \"hidden\",\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return (\n    <Container>\n      <Box></Box>\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const ColorPresenter = ({ token }: PresenterProps) => {\n  const Color = useMemo(\n    () =>\n      styled.div(() => ({\n        background: token.value,\n        borderRadius: 2,\n        height: 32,\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return <Color></Color>;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { keyframes, styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const EasingPresenter = ({ token }: PresenterProps) => {\n  const animation = keyframes`\n    0% {\n      transform: scaleX(0);\n    }\n    50% {\n      transform: scaleX(1);\n    }\n    100% {\n      transform: scaleX(0);\n    }\n  `;\n\n  const Box = useMemo(\n    () =>\n      styled.div(({ theme }) => ({\n        animation: `${animation} 2s infinite`,\n        animationTimingFunction: token.value,\n        background: theme.color.secondary,\n        borderRadius: 2,\n        height: 32,\n        transformOrigin: \"left\",\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return <Box />;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\n\nexport const EmptyPresenter = () => {\n  const Container = useMemo(\n    () =>\n      styled.div(({ theme }) => ({\n        alignItems: \"center\",\n        color: theme.color.mediumdark,\n        display: \"flex\",\n        height: 32,\n        width: \"100%\",\n      })),\n    []\n  );\n\n  return <Container>No preview available.</Container>;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const FontFamilyPresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(() => ({\n        fontFamily: token.value,\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return <Box>Lorem ipsum</Box>;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const FontSizePresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(() => ({\n        fontSize: token.value,\n        height: token.value,\n        lineHeight: 1,\n        whiteSpace: \"nowrap\",\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return <Box>Lorem ipsum</Box>;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const FontWeightPresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(() => ({\n        fontWeight: token.value as \"bold\" | \"normal\" | number,\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return <Box>Lorem ipsum</Box>;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const LineHeightPresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(() => ({\n        height: \"100%\",\n        lineHeight: token.value,\n        overflow: \"auto\",\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return (\n    <Box>\n      Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsam veniam eum\n      dicta.\n    </Box>\n  );\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const LetterSpacingPresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(() => ({\n        height: \"100%\",\n        letterSpacing: token.value,\n        overflow: \"auto\",\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return (\n    <Box>\n      Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsam veniam eum\n      dicta.\n    </Box>\n  );\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const OpacityPresenter = ({ token }: PresenterProps) => {\n  const Container = useMemo(\n    () =>\n      styled.div(() => ({\n        display: \"flex\",\n        height: \"2rem\",\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  const Circle = useMemo(\n    () =>\n      styled.div(() => ({\n        backgroundColor: \"#000\",\n        borderRadius: \"50%\",\n        height: \"2rem\",\n        opacity: token.value,\n        width: \"2rem\",\n\n        \"&:nth-of-type(2)\": {\n          transform: \"translateX(-50%)\",\n        },\n      })),\n    [token]\n  );\n\n  return (\n    <Container>\n      <Circle />\n      <Circle />\n    </Container>\n  );\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const ShadowPresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(({ theme }) => ({\n        background: \"#fff\",\n        boxShadow: token.value,\n        height: 32,\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return <Box></Box>;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const SpacingPresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(({ theme }) => ({\n        background: theme.color.secondary,\n        borderRadius: 2,\n        height: 32,\n        width: token.value,\n      })),\n    [token]\n  );\n\n  return <Box />;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport const SvgPresenter = ({ token }: PresenterProps) => {\n  const Box = useMemo(\n    () =>\n      styled.div(() => ({\n        alignItems: \"center\",\n        display: \"flex\",\n        height: 32,\n        width: \"100%\",\n      })),\n    [token]\n  );\n\n  return <Box dangerouslySetInnerHTML={{ __html: token.value }}></Box>;\n};\n","import React from \"react\";\nimport { useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\nimport { PresenterProps } from \"../../types/token.types\";\n\nexport function ImagePresenter({ token }: PresenterProps) {\n  const Img = useMemo(\n    () =>\n      styled.img(() => ({\n        maxHeight: 32,\n        maxWidth: \"100%\",\n        backgroundSize: \"contain\",\n      })),\n    [token]\n  );\n\n  return <Img src={`data:image/png;base64, ${token.value}`}></Img>;\n}\n","import React from \"react\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { CloseIcon } from \"@storybook/icons\";\nimport { styled } from \"storybook/theming\";\nimport { Token, TokenSourceType } from \"../types/token.types\";\nimport { Input } from \"./Input\";\nimport { ToolButton } from \"./ToolButton\";\n\ninterface TokenValueProps {\n  onValueChange: (newValue: any) => void;\n  readonly?: boolean;\n  token: Token;\n}\n\nexport const TokenValue = ({\n  onValueChange,\n  readonly,\n  token,\n}: TokenValueProps) => {\n  const [rawValue, setRawValue] = useState(token.rawValue);\n\n  const Container = useMemo(\n    () =>\n      styled.div(({}) => ({\n        position: \"relative\",\n      })),\n    []\n  );\n\n  const ResetButton = useMemo(\n    () =>\n      styled.span(({}) => ({\n        position: \"absolute\",\n        right: 8,\n        top: \"50%\",\n        transform: \"translate3d(0, -50%, 0)\",\n      })),\n    []\n  );\n\n  const RawValue = useMemo(\n    () =>\n      styled.span(({}) => ({\n        overflow: \"hidden\",\n        wordBreak: \"break-all\",\n        WebkitLineClamp: 3,\n        WebkitBoxOrient: \"vertical\",\n        display: \"-webkit-box\",\n      })),\n    []\n  );\n\n  const showRawValue =\n    token.sourceType !== TokenSourceType.CSS &&\n    token.sourceType !== TokenSourceType.SVG;\n\n  useEffect(() => {\n    const previewIframe: HTMLIFrameElement = document.querySelector(\n      \"#storybook-preview-iframe\"\n    ) as HTMLIFrameElement;\n\n    const tokenElement = previewIframe?.contentWindow?.document.documentElement;\n\n    if (tokenElement !== undefined && tokenElement !== null) {\n      if (token.rawValue !== rawValue) {\n        tokenElement.style.setProperty(token.name, rawValue);\n      } else {\n        tokenElement.style.setProperty(token.name, token.rawValue);\n      }\n    }\n  }, [rawValue]);\n\n  return (\n    <Container>\n      {showRawValue && <RawValue title={rawValue}>{rawValue}</RawValue>}\n\n      {!showRawValue && (\n        <Input\n          readOnly={readonly}\n          onChange={(event) => {\n            const newRawValue = (event.target as HTMLInputElement).value;\n\n            setRawValue(newRawValue);\n            onValueChange(newRawValue);\n          }}\n          value={rawValue}\n        />\n      )}\n\n      {!showRawValue && token.rawValue !== rawValue && (\n        <ResetButton>\n          <ToolButton\n            onClick={() => {\n              setRawValue(token.rawValue);\n              onValueChange(token.rawValue);\n            }}\n          >\n            <CloseIcon />\n          </ToolButton>\n        </ResetButton>\n      )}\n    </Container>\n  );\n};\n","import { styled } from \"storybook/theming\";\n\nexport const Input = styled.input(({ theme }) => ({\n  appearance: \"none\",\n  background: theme.input.background,\n  border: \"0 none\",\n  borderRadius: theme.input.borderRadius,\n  boxShadow: `${theme.input.border} 0 0 0 1px inset`,\n  boxSizing: \"inherit\",\n  color: theme.input.color || \"inherit\",\n  display: \" block\",\n  fontSize: theme.typography.size.s2 - 1,\n  lineHeight: \"20px\",\n  margin: \" 0\",\n  padding: \"6px 10px\",\n  position: \"relative\",\n  transition: \"all 200ms ease-out\",\n  width: \"100%\",\n\n  \"&:focus\": {\n    boxShadow: `${theme.color.secondary} 0 0 0 1px inset`,\n    outline: \"none\",\n  },\n  \"&[disabled]\": {\n    cursor: \"not-allowed\",\n    opacity: 0.5,\n  },\n\n  \"&:-webkit-autofill\": {\n    WebkitBoxShadow: `0 0 0 3em ${theme.color.lightest} inset`,\n  },\n\n  \"::placeholder\": {\n    color: theme.color.mediumdark,\n  },\n}));\n","import React from \"react\";\nimport { MouseEventHandler, ReactNode, useMemo } from \"react\";\nimport { styled } from \"storybook/theming\";\n\ninterface ToolButtonProps {\n  children: ReactNode | ReactNode[];\n  onClick?: MouseEventHandler<HTMLButtonElement>;\n}\n\nexport const ToolButton = ({ children, onClick }: ToolButtonProps) => {\n  const Button = useMemo(\n    () =>\n      styled.button(({ theme }) => ({\n        alignItems: \"center\",\n        backgroundColor: \"transparent\",\n        border: \"none\",\n        cursor: \"pointer\",\n        display: \"inline-flex\",\n        height: 18,\n        justifyContent: \"center\",\n        marginLeft: 4,\n        padding: 0,\n        verticalAlign: \"middle\",\n        width: 18,\n        color: theme.color.defaultText,\n\n        \"&:hover\": {\n          color: theme.color.secondary,\n        },\n\n        \"> svg\": {\n          height: 13,\n          position: \"relative\",\n          top: -1,\n          width: 13,\n        },\n      })),\n    []\n  );\n\n  return <Button onClick={onClick}>{children}</Button>;\n};\n","import { useMemo } from \"react\";\nimport { Token } from \"../types/token.types\";\nimport { Category } from \"../types/category.types\";\n\nexport const useFilteredTokens = (\n  categories: Category[],\n  filterNames?: string[],\n  theme?: string\n): Token[] => {\n  return useMemo(() => {\n    const allTokens = categories.flatMap((category) => category.tokens);\n\n    // Filter tokens by theme if passed\n    const themeFilteredTokens = theme\n      ? allTokens.filter((token) => {\n          const tokenTheme = token.sourcePath.includes(theme);\n          return tokenTheme;\n        })\n      : allTokens;\n\n    // Filter tokens by variable name\n    const nameFilteredTokens = filterNames\n      ? themeFilteredTokens.filter((token) => filterNames.includes(token.name))\n      : themeFilteredTokens;\n\n    // Make tokens unique\n    const uniqueTokens = nameFilteredTokens.filter(\n      (token, index, self) =>\n        self.findIndex((t) => t.name === token.name) === index\n    );\n\n    return uniqueTokens;\n  }, [categories, filterNames, theme]);\n};\n","import { styled, keyframes } from \"storybook/theming\";\nimport { transparentize } from \"polished\";\n\nconst fadeIn = keyframes({\n  from: {\n    opacity: 0,\n    transform: \"translateY(5px)\",\n  },\n  to: {\n    opacity: 1,\n    transform: \"translateY(0)\",\n  },\n});\n\nexport const Popup = styled.div(({ theme }) => ({\n  position: \"absolute\",\n  background: theme.background.content,\n  border: `1px solid ${theme.color.border}`,\n  borderRadius: theme.borderRadius,\n  padding: \"12px 15px\",\n  boxShadow: `0 4px 12px ${transparentize(0.85, theme.color.darker)}`,\n  color: theme.color.defaultText,\n  fontFamily: theme.typography.fonts.base,\n  fontSize: theme.typography.size.s2,\n  minWidth: 150,\n  maxWidth: 300,\n  zIndex: 1000,\n  animation: `${fadeIn} 0.2s ease-out`,\n\n  \"& > div:first-child\": {\n    fontWeight: theme.typography.weight.bold,\n    marginBottom: 8,\n    color: theme.color.darkest,\n  },\n\n  \"& > ul\": {\n    margin: 0,\n    padding: 0,\n    listStyle: \"none\",\n    maxHeight: 200,\n    overflowY: \"auto\",\n\n    \"& > li\": {\n      padding: \"4px 8px\",\n      borderRadius: theme.borderRadius / 2,\n      color: transparentize(0.1, theme.color.defaultText),\n      background: transparentize(0.95, theme.color.medium),\n      marginBottom: 4,\n      transition: \"background 0.2s ease\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n\n      \"&:hover\": {\n        background: transparentize(0.85, theme.color.medium),\n      },\n\n      \"&:last-child\": {\n        marginBottom: 0,\n      },\n    },\n  },\n}));\n","import { useState, useRef, useLayoutEffect, useCallback } from \"react\";\n\ninterface PopupState {\n  top: number;\n  left: number;\n  tokenName: string;\n}\n\ninterface UsePopupProps<T> {\n  usageMap?: Record<string, string[]>;\n  getElementRef: (item: T) => HTMLElement | null;\n  getTokenName: (item: T) => string;\n}\n\nexport function usePopup<T>({\n  usageMap,\n  getElementRef,\n  getTokenName,\n}: UsePopupProps<T>) {\n  const [popup, setPopup] = useState<PopupState | null>(null);\n  const timeoutRef = useRef<number | null>(null);\n  const popupRef = useRef<HTMLDivElement | null>(null);\n\n  const handleContextMenu = useCallback(\n    (event: React.MouseEvent, item: T) => {\n      const tokenName = getTokenName(item);\n      if (!usageMap) return;\n      event.preventDefault();\n\n      const element = getElementRef(item);\n      if (!element) return;\n\n      const rect = element.getBoundingClientRect();\n      const top = rect.bottom + window.scrollY + 5; // Position below the element\n      const left = rect.left + window.scrollX;\n\n      setPopup({ top, left, tokenName });\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    },\n    [usageMap, getElementRef, getTokenName]\n  );\n\n  const closePopup = useCallback(() => {\n    setPopup(null);\n    if (timeoutRef.current) clearTimeout(timeoutRef.current);\n  }, []);\n\n  useLayoutEffect(() => {\n    const handleClick = (event: MouseEvent) => {\n      if (\n        popupRef.current &&\n        !popupRef.current.contains(event.target as Node)\n      ) {\n        closePopup();\n      }\n    };\n\n    const handleScroll = (event: Event) => {\n      if (!popup) return;\n\n      const target = event.target as Node;\n      if (popupRef.current && !popupRef.current.contains(target)) {\n        if (timeoutRef.current) clearTimeout(timeoutRef.current);\n        timeoutRef.current = window.setTimeout(closePopup, 2000);\n      }\n    };\n\n    document.addEventListener(\"click\", handleClick);\n    document.addEventListener(\"scroll\", handleScroll, true);\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n      document.removeEventListener(\"scroll\", handleScroll, true);\n    };\n  }, [popup, closePopup]);\n\n  return {\n    popup,\n    popupRef,\n    handleContextMenu,\n    closePopup,\n  };\n}\n","import React from \"react\";\nimport { transparentize } from \"polished\";\nimport { useCallback, useLayoutEffect, useMemo, useRef, useState } from \"react\";\nimport { useVirtualizer } from \"@tanstack/react-virtual\";\nimport { CopyIcon, InfoIcon } from \"@storybook/icons\";\nimport {\n  TooltipMessage,\n  TooltipNote,\n  WithTooltip,\n} from \"storybook/internal/components\";\nimport { styled } from \"storybook/theming\";\nimport { useFilteredTokens } from \"../hooks/useFilteredTokens\";\nimport { createPortal } from \"react-dom\";\n\nimport { Category } from \"../types/category.types\";\nimport { ClipboardButton } from \"./ClipboardButton\";\nimport { PresenterMapType, TokenPreview } from \"./TokenPreview\";\nimport { TokenValue } from \"./TokenValue\";\nimport { ToolButton } from \"./ToolButton\";\nimport { Popup } from \"./Popup\";\nimport { usePopup } from \"../hooks/usePopup\";\nimport { Token } from \"src/types/token.types\";\n\ninterface TokenTableProps {\n  categories: Category[];\n  maxHeight?: number;\n  readonly?: boolean;\n  showValueColumn?: boolean;\n  presenters?: PresenterMapType;\n  filterNames?: string[];\n  theme?: string;\n  usageMap?: Record<string, string[]>;\n}\n\nexport const TokenTable = ({\n  categories,\n  maxHeight,\n  readonly,\n  showValueColumn = true,\n  presenters,\n  filterNames,\n  theme,\n  usageMap,\n}: TokenTableProps) => {\n  const [tokenValueOverwrites, setTokenValueOverwrites] = useState<{\n    [tokenName: string]: any;\n  }>({});\n  const [panelHeight, setPanelHeight] = useState<number>(maxHeight || 100);\n  const rowRefs = useRef<Map<number, HTMLTableRowElement>>(new Map());\n\n  const { popup, popupRef, handleContextMenu } = usePopup({\n    usageMap,\n    getElementRef: (item: { token: Token; index: number }) =>\n      rowRefs.current.get(item.index) || null,\n    getTokenName: (item: { token: Token; index: number }) => item.token.name,\n  });\n\n  const parentRef = useRef<HTMLDivElement | null>(null);\n  const theadRef = useRef<HTMLTableSectionElement | null>(null);\n\n  const tokens = useFilteredTokens(categories, filterNames, theme);\n\n  const rowVirtualizer = useVirtualizer({\n    count: tokens.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: useCallback(() => 49, []),\n  });\n\n  const ScrollContainer = useMemo(\n    () =>\n      styled.div(() => ({\n        maxHeight: panelHeight ? `${panelHeight + 30}px` : \"none\",\n        overflow: \"auto\",\n        padding: \"15px\",\n      })),\n    [panelHeight]\n  );\n\n  const Table = useMemo(\n    () =>\n      styled.table(({ theme }) => ({\n        borderCollapse: \"collapse\",\n        borderSpacing: 0,\n        color: theme.color.defaultText,\n        fontFamily: theme.typography.fonts.base,\n        fontSize: theme.typography.size.s1,\n        minWidth: 700,\n        tableLayout: \"fixed\",\n        textAlign: \"left\",\n        width: \"100%\",\n\n        \"thead > tr\": {\n          display: \"flex\",\n        },\n\n        \"tbody > tr\": {\n          borderTop: `1px solid ${theme.color.mediumlight}`,\n          display: \"flex\",\n\n          \":first-of-type\": {\n            borderTopColor: theme.color.medium,\n          },\n\n          \":last-of-type\": {\n            borderBottom: `1px solid ${theme.color.mediumlight}`,\n          },\n\n          \":hover\": {\n            backgroundColor: theme.background.hoverable,\n          },\n        },\n\n        tr: {\n          \":hover\": {\n            backgroundColor: \"rgba(0,0,0, 0.1)\",\n          },\n        },\n        \"td, th\": {\n          border: \"none !important\",\n          textOverflow: \"ellipsis\",\n          verticalAlign: \"middle\",\n\n          \":nth-of-type(1)\": {\n            flexBasis: \"50%\",\n            flexGrow: 1,\n            flexShrink: 0,\n          },\n\n          \":nth-of-type(2)\": {\n            flexBasis: \"25%\",\n            flexGrow: 0,\n            flexShrink: 0,\n          },\n\n          \":nth-of-type(3)\": {\n            flexBasis: \"25%\",\n            flexGrow: 0,\n            flexShrink: 0,\n          },\n        },\n\n        th: {\n          color:\n            theme.base === \"light\"\n              ? transparentize(0.25, theme.color.defaultText)\n              : transparentize(0.45, theme.color.defaultText),\n          paddingBottom: 12,\n\n          \":not(:first-of-type)\": {\n            paddingLeft: 15,\n          },\n\n          \":not(:last-of-type)\": {\n            paddingRight: 15,\n          },\n\n          \":last-of-type\": {\n            width: 200,\n          },\n        },\n\n        td: {\n          overflow: \"hidden\",\n          paddingBottom: 8,\n          paddingTop: 8,\n          alignItems: \"center\",\n\n          \":not(:first-of-type)\": {\n            paddingLeft: 15,\n          },\n\n          \":not(:last-of-type)\": {\n            paddingRight: 15,\n          },\n\n          svg: {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n          },\n\n          span: {\n            alignItems: \"center\",\n            display: \"flex\",\n            height: \"100%\",\n          },\n        },\n      })),\n    []\n  );\n\n  const TokenName = styled.span(({ theme }) => ({\n    fontFamily: theme.typography.fonts.mono,\n    fontWeight: theme.typography.weight.bold,\n    fontSize: theme.typography.size.s1,\n  }));\n\n  useLayoutEffect(() => {\n    const container = document.querySelector(\"#storybook-panel-root\");\n    if (!container) {\n      return;\n    }\n\n    const resizeHandler = () => {\n      if (maxHeight !== undefined || !container) {\n        return;\n      }\n\n      const vpHeight = window.innerHeight;\n      const tableTop = parentRef.current?.getBoundingClientRect().top || 0;\n\n      const height = vpHeight - tableTop - 40;\n\n      setPanelHeight(height);\n    };\n\n    setTimeout(() => {\n      resizeHandler();\n    });\n\n    const resizeObserver = new ResizeObserver(resizeHandler);\n    resizeObserver.observe(container);\n\n    return () => resizeObserver.disconnect();\n  }, []);\n\n  return (\n    <ScrollContainer ref={parentRef}>\n      <Table\n        style={{\n          height: `${\n            rowVirtualizer.getTotalSize() +\n            (theadRef.current?.getBoundingClientRect().height || 0)\n          }px`,\n          position: \"relative\",\n        }}\n      >\n        <thead\n          className=\"docblock-argstable-head\"\n          ref={theadRef}\n          style={{ height: \"28px\" }}\n        >\n          <tr>\n            <th>Name</th>\n            {showValueColumn && <th>Value</th>}\n            <th>Preview</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rowVirtualizer.getVirtualItems().map((virtualRow) => {\n            const token = tokens[virtualRow.index];\n\n            return (\n              <tr\n                key={virtualRow.index}\n                ref={(el) => {\n                  if (el) rowRefs.current.set(virtualRow.index, el);\n                }}\n                onContextMenu={(e) =>\n                  handleContextMenu(e, { token, index: virtualRow.index })\n                }\n                style={{\n                  position: \"absolute\",\n                  top: 0,\n                  left: 0,\n                  width: \"100%\",\n                  height: `${virtualRow.size}px`,\n                  transform: `translateY(${\n                    virtualRow.start +\n                    (theadRef.current?.getBoundingClientRect().height || 0)\n                  }px)`,\n                }}\n              >\n                <td>\n                  <span>\n                    <TokenName>{token.name}</TokenName>\n\n                    <WithTooltip\n                      hasChrome={false}\n                      tooltip={<TooltipNote note=\"Copy to clipboard\" />}\n                    >\n                      <ClipboardButton\n                        button={\n                          <ToolButton>\n                            <CopyIcon />\n                          </ToolButton>\n                        }\n                        value={token.name}\n                      />\n                    </WithTooltip>\n\n                    {token.description && (\n                      <WithTooltip\n                        tooltip={<TooltipMessage desc={token.description} />}\n                      >\n                        <ToolButton>\n                          <InfoIcon />\n                        </ToolButton>\n                      </WithTooltip>\n                    )}\n                  </span>\n                </td>\n                {showValueColumn && (\n                  <td>\n                    <TokenValue\n                      key={token.name}\n                      onValueChange={(newValue) => {\n                        setTokenValueOverwrites((tokenValueOverwrites) => ({\n                          ...tokenValueOverwrites,\n                          [token.name]:\n                            newValue === token.rawValue ? undefined : newValue,\n                        }));\n                      }}\n                      readonly={readonly}\n                      token={token}\n                    />\n                  </td>\n                )}\n                <td>\n                  <TokenPreview\n                    presenters={presenters}\n                    token={{\n                      ...token,\n                      value: tokenValueOverwrites[token.name] || token.value,\n                    }}\n                  />\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n      {popup &&\n        usageMap &&\n        createPortal(\n          <Popup ref={popupRef} style={{ top: popup.top, left: popup.left }}>\n            {usageMap[popup.tokenName] ? (\n              <>\n                <div>Used in:</div>\n                <ul>\n                  {usageMap[popup.tokenName].map((usage, index) => (\n                    <li key={index}>{usage}</li>\n                  ))}\n                </ul>\n              </>\n            ) : (\n              <div>Token might be unused or global, please check</div>\n            )}\n          </Popup>,\n          document.body\n        )}\n    </ScrollContainer>\n  );\n};\n","import React from \"react\";\nimport { useCallback } from \"react\";\nimport { SearchIcon, CrossIcon } from \"@storybook/icons\";\nimport { styled } from \"storybook/theming\";\nimport { Input } from \"./Input\";\n\nconst SearchHolder = styled.div(({ theme }) => ({\n  display: \"flex\",\n  flexDirection: \"column\",\n  position: \"relative\",\n  \"&:focus-within svg\": {\n    color: theme.color.defaultText,\n  },\n}));\n\nconst StyledSearchIcon = styled(SearchIcon)(({ theme }) => ({\n  width: 12,\n  height: 12,\n  position: \"absolute\",\n  top: 10,\n  left: 10,\n  zIndex: 1,\n  pointerEvents: \"none\",\n  color: theme.textMutedColor,\n}));\n\nconst ClearButton = styled.button(({ theme }) => ({\n  width: 16,\n  height: 16,\n  padding: 4,\n  position: \"absolute\",\n  top: 8,\n  right: 8,\n  zIndex: 1,\n  background: \"rgba(0,0,0,0.1)\",\n  border: \"none\",\n  borderRadius: 16,\n  color: theme.color.defaultText,\n  cursor: \"pointer\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n}));\n\nconst SearchInput = styled(Input)(({ theme }) => ({\n  paddingLeft: 28,\n  paddingRight: 28,\n  height: 32,\n}));\n\ninterface SearchFieldProps {\n  style?: React.CSSProperties;\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport function SearchField({ value, onChange, style }: SearchFieldProps) {\n  const handleChange: React.ChangeEventHandler<HTMLInputElement> = useCallback(\n    (e) => {\n      onChange(e.target.value);\n    },\n    [onChange]\n  );\n\n  const handleClear = useCallback(() => {\n    onChange(\"\");\n  }, [onChange]);\n\n  return (\n    <SearchHolder className=\"token-search\" style={style}>\n      <StyledSearchIcon />\n      <SearchInput\n        value={value}\n        onChange={handleChange}\n        placeholder=\"Provide a token name \"\n      />\n      <ClearButton onClick={handleClear}>\n        <CrossIcon />\n      </ClearButton>\n    </SearchHolder>\n  );\n}\n","import { useMemo, useState } from \"react\";\nimport { Category } from \"../types/category.types\";\nimport { useDebounce } from \"./useDebounce\";\n\nexport function useTokenSearch(categories: Category[]) {\n  const [searchText, setSearchText] = useState(\"\");\n  const debouncedSearchText = useDebounce(searchText, 250);\n  const resultCategories = useMemo(() => {\n    return debouncedSearchText\n      ? categories?.map((item) => ({\n          ...item,\n          tokens: item.tokens.filter((token) =>\n            token.name.includes(debouncedSearchText)\n          ),\n        }))\n      : categories;\n  }, [debouncedSearchText, categories]);\n\n  return {\n    categories: resultCategories,\n    searchText,\n    setSearchText,\n  };\n}\n","import { useEffect, useState } from \"react\";\n\nexport function useDebounce<T>(value: T, delay: number) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n  useEffect(\n    () => {\n      // Update debounced value after delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n      // Cancel the timeout if value changes (also on delay change or unmount)\n      // This is how we prevent debounced value from updating if value is changed ...\n      // .. within the delay period. Timeout gets cleared and restarted.\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value, delay] // Only re-call effect if value or delay changes\n  );\n  return debouncedValue;\n}\n","import { useEffect, useMemo, useState } from \"react\";\nimport { useLocalStorage } from \"@uidotdev/usehooks\";\n\nimport { Category } from \"../types/category.types\";\nimport { Config } from \"../types/config.types\";\n\nexport function useTokenTabs(config?: Config) {\n  const [tokenFiles, setTokenFiles] = useState<{\n    [type: string]: { categories: Category[]; injectionStyles: string };\n  }>();\n\n  const [cssCategories, setCssCategories] = useState<Category[]>([]);\n  const [lessCategories, setLessCategories] = useState<Category[]>([]);\n  const [scssCategories, setScssCategories] = useState<Category[]>([]);\n  const [svgIconCategories, setSvgIconCategories] = useState<Category[]>([]);\n  const [imageCategories, setImageIconCategories] = useState<Category[]>([]);\n\n  const [activeCategory, setActiveCategory] = useState<string>();\n  const [cardView, setCardView] = useLocalStorage(\n    \"storybook-design-token-addon-card\",\n    false\n  );\n\n  const [styleInjections, setStyleInjections] = useState(\"\");\n\n  const tabs = useMemo(() => {\n    const categories = [\n      ...cssCategories,\n      ...lessCategories,\n      ...scssCategories,\n      ...svgIconCategories,\n      ...imageCategories,\n    ].filter(\n      (category) => category !== undefined && category?.tokens.length > 0\n    );\n\n    const categoryNames = Array.from(\n      new Set(categories.map((category) => category?.name))\n    );\n\n    let tabs = categoryNames.map((name) => ({\n      label: name,\n      categories: categories.filter(\n        (category) => category?.name === name\n      ) as Category[],\n    }));\n\n    if ((config?.tabs ?? []).length !== 0) {\n      tabs = tabs.filter((tab) => config.tabs.includes(tab.label));\n    }\n\n    return tabs;\n  }, [\n    cssCategories,\n    lessCategories,\n    scssCategories,\n    svgIconCategories,\n    imageCategories,\n    config,\n  ]);\n\n  useEffect(() => {\n    async function fetchTokenFiles() {\n      const designTokenSource = await (\n        await fetch(\"./design-tokens.source.json\")\n      ).text();\n\n      setTokenFiles(JSON.parse(designTokenSource));\n    }\n\n    fetchTokenFiles();\n  }, []);\n\n  useEffect(() => {\n    const cssTokens = tokenFiles?.cssTokens;\n    const lessTokens = tokenFiles?.lessTokens;\n    const scssTokens = tokenFiles?.scssTokens;\n    const svgTokens = tokenFiles?.svgTokens;\n    const imageTokens = tokenFiles?.imageTokens;\n\n    setStyleInjections(config?.styleInjection || \"\");\n\n    if (cssTokens) {\n      setCssCategories(cssTokens.categories);\n      setStyleInjections((current) => current + cssTokens.injectionStyles);\n    }\n\n    if (lessTokens) {\n      setLessCategories(lessTokens.categories);\n      setStyleInjections((current) => current + lessTokens.injectionStyles);\n    }\n\n    if (scssTokens) {\n      setScssCategories(scssTokens.categories);\n      setStyleInjections((current) => current + scssTokens.injectionStyles);\n    }\n\n    if (svgTokens) {\n      setSvgIconCategories(svgTokens.categories);\n    }\n\n    if (imageTokens) {\n      setImageIconCategories(imageTokens.categories);\n    }\n  }, [config, tokenFiles]);\n\n  useEffect(() => {\n    if (\n      config?.defaultTab &&\n      tabs.find((item) => item.label === config.defaultTab)\n    ) {\n      setActiveCategory(config.defaultTab);\n    } else if (tabs.length > 0) {\n      setActiveCategory(tabs[0].label);\n    }\n  }, [config, tabs]);\n\n  return {\n    activeCategory,\n    cardView,\n    setActiveCategory,\n    setCardView,\n    styleInjections,\n    tabs,\n  };\n}\n","export const ADDON_ID = \"storybook-design-token\";\nexport const PANEL_ID = `${ADDON_ID}/panel`;\nexport const PARAM_KEY = `designToken`;\n\nexport const EVENTS = {\n  RESULT: `${ADDON_ID}/result`,\n  REQUEST: `${ADDON_ID}/request`,\n  CLEAR: `${ADDON_ID}/clear`,\n};\n"]}